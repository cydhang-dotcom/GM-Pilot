
# 业务需求: 员工管理 - 入职核验与办理 (Onboarding Status)

> **关联 ID**: `hr-onboarding-process`
> **优先级**: P1
> **设计核心**: 档案穿透 (Archive Drill-down)、并行办理 (Parallel Execution)、扫码识别 (QR Source ID)

## 1. 用户故事 (User Stories) 与 数据逻辑

### US1: 入职档案终核 (Final Review)
*   **故事**: 作为总经理，在员工正式办理入职手续前，我需要核对其身份证、手机号以及拟定的薪资标准，确保与录用决定一致。
*   **数据业务逻辑**:
    *   **隐私模式**: 薪资信息受 `Global_Privacy_Rule` 约束，详情页默认模糊。
    *   **字段源**: 数据由 HR 服务商预录入或 `EmployeeAdd` 模块产生。

### US2: 事项办结核验 (Checklist Verification)
*   **故事**: 我需要清晰看到“资料”、“合同”、“个税”、“社保”四个关键事项的独立状态。
*   **数据业务逻辑**:
    *   **非线性逻辑**: 四个事项为并行关系，无严格顺序。
    *   **状态定义**: `DONE` (已办结)、`PENDING` (待办理)。
    *   **新增项**: 增加 **个税申报 (Tax)** 节点，用于确认专项附加扣除及核定基数。

### US3: 扫码入职增强识别 (QR Onboarding Awareness)
*   **故事**: 我需要明确知道哪些员工是通过“自助扫码”入职的，因为他们通常缺失岗职和薪资信息，需要我在办理前强制补齐。
*   **数据业务逻辑**:
    *   **来源标识**: `Source = 'qr'` (扫码) 或 `'manual'` (手动录入)。
    *   **强制校验**: 若 `Source == 'qr'` 且 `Salary` 或 `Dept` 为空，**禁用**所有办理按钮，强制引导至信息补全页。

### US4: 办理动作参数化 (Action Configuration)
*   **故事**: 在点击“办理”时，我需要确认具体的执行参数（如合同签几年、试用期多久），而不是盲目发送指令。
*   **交互逻辑**:
    *   **合同办理**: 弹出 Modal 选择 `Term` (1/3/5年) 和 `Probation` (无/3/6个月)。
    *   **个税申报**: 弹出 Modal 确认 `Tax_Base` (默认=月薪)。
    *   **社保办理**: 弹出 Modal 确认 `Social_Base` & `Fund_Base`。

## 2. 界面行为规范 (UI Behaviors)

*   **列表页 (L2)**:
    *   **扫码勋章**: 扫码入职员工在姓名旁展示专属 `QrCode` 图标及标签。
    *   **异常警示**: 缺失信息的员工展示红色 `AlertCircle` 警示文字。
    *   **进度展示**: 显示 4 个状态标签（资料/合同/个税/社保）。
*   **详情页 (L3)**:
    *   **置顶 Banner**: 扫码入职员工顶部显示高亮的警示 Banner，提示缺失核心信息。
    *   **模态交互 (Modals)**: 办理动作触发中心位 Modal，背景应用 `backdrop-blur`，底部按钮固定。
    *   **补全模式**: 信息补全页仅开放“部门、岗位、薪资、入职日期”编辑，身份信息保持只读。

## 3. 验收标准 (Acceptance Criteria)

- [x] 列表页必须能清晰区分扫码入职与手动录入员工。
- [x] 信息缺失的扫码入职员工在补全前，不得执行任何办理操作。
- [x] 点击“合同签署”必须弹出期限选择框。
- [x] 点击“社保办理”必须允许修改缴费基数。
- [x] 详情页 checklist 必须包含“个税申报设置”项。
